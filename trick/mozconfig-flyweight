# Build GeckoView/Firefox for Android:
ac_add_options --enable-project=mobile/android
# Targeting the following architecture.
# For regular phones, no --target is needed.
# For x86 emulators (and x86 devices, which are uncommon):
# ac_add_options --target=i686
# For newer phones or Apple silicon
ac_add_options --target=aarch64
# For x86_64 emulators (and x86_64 devices, which are even less common):
# ac_add_options --target=x86_64

#Super reducing factor


# Build options
ac_add_options --disable-tests
ac_add_options --enable-release
ac_add_options --disable-debug



# Optimize options
#ac_add_options RUSTC_OPT_LEVEL=-Oz
ac_add_options OS_ARCH_OPT_LEVEL=-Oz
ac_add_options MOZ_STDCXX_COMPAT_OPT_LEVEL=-Oz
ac_add_options MOZ_BUILD_APP_OPT_LEVEL=-Oz
ac_add_options MOZ_DMD_OPT_LEVEL=-Oz
#ac_add_options --enable-optimize=-Oz

#export RUSTC_OPT_LEVEL=z
export OS_ARCH_OPT_LEVEL=z
export MOZ_STDCXX_COMPAT_OPT_LEVEL=z
export MOZ_BUILD_APP_OPT_LEVEL=z
export MOZ_DMD_OPT_LEVEL=z

# Exclude unnecessary components

ac_add_options --disable-webrtc
ac_add_options --disable-webdriver
ac_add_options --disable-wmf


# Disable/Enable optional features
ac_add_options --disable-crashreporter
ac_add_options --disable-updater
ac_add_options --prefix=/usr
#ac_add_options --enable-hardening
ac_add_options --enable-rust-simd
ac_add_options --disable-bootstrap
#ac_add_options --enable-lto
ac_add_options --without-wasm-sandboxed-libraries
ac_add_options --disable-compile-environment



